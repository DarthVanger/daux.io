## Использование Gulp

### Установка
```
npm install -g gulp
```

### Базовое использование
```
gulp build // сжимает CSS и JS из "src" папки и записывает сжатые версии в "production" папку
```

### <a name="config"></a>Настройка
`gulpfile.js` содержит список тасков, каждый из них можно запустить из коммандной строки.
Пути к css, js и изображениям записываются в `gulpfile.js`, в переменной `config`.


#### Настройка PHPStorm
В PHPStorm Gulp не работает.

### Изображения
Изображения хранятся в одной папке, каждый запуск `gulp compress-images` пережимает все картинки заново.
#### Пережать всю папку изображений:
```
gulp compress-images // оптимизирует изображения, перезаписывает оригиналы оптимизированными версиями. Запускаем раз в неделю.
```
#### Пережать отдельную папку:
```
gulp compress-images --dir resources/v4/img/directory  # путь к папке указывается от корня проекта
```

#### Пережать отдельный файл
Нельзя. Только папку.

### Javascript
Исходные версии и компрессированные хранятся в разных папках. Для настройки папок см. пункт [Настройка](#config).

```
gulp minify-js // минифицирует JS. Запускаем перед деплоем.
```
### CSS
Исходные версии и компрессированные хранятся в разных папках. Для настройки папок см. пункт [Настройка](#config).

```
gulp minify-css // минифицирует css. Запускаем перед деплоем.
```


### Запуск вотчера в коммандной строке
```
gulp watch // следит за изменениями css и js файлов, и сразу минифицирует их.
```
